#war, jar, tomcat, 웹 서버 등 에 대해서..

서버 배포시 잘 몰랐던 부분이라 알아봄.

참고: https://www.youtube.com/watch?v=Il5d4YXtlYI
- JAR
  - JSP 를 지원하지 않음
  - resources 하위 폴더 static, templates 를 사용하는 구조
  - java -jar > 내장톰캣을 사용한다.
- WAR
  - JSP 를 지원
    - JSP 구조: WEB-INF 와 그 아래 디렉토리로 구성
  - 외장 WAS 를 사용해야한다(톰캣)
    
      
jar 가 default 인 이유: 스프링문서에 jsp 를 피해라고 명시됨.
jsp 에 한계가 있어서 스프링 진영에서 jar 를 추천함(내장톰캣도 지원하니..)
---

- WAR ( Web Application Archive )
  - .war 확장 파일은 servlet/jsp 컨테이너에 배치 할 수 있는 웹 어플리케이션 압출 파일 포맷
  - WAR 는 웹 응용 프로그램을 위한 포맷이기 때문에 웹 관련 자원만 포함하고 있으며 이를 사용하면 웹 어플리케이션을 쉽게 배포할 수 있음.
  - 원하는 구성을 할 수 있는 JAR 포맷과 달리 WAR 는 WEB-INF 디렉토리로 사전 정의된 구조를 사용.
  - WAR 파일을 실행하려면, Tomcat, WebLogic, Websphere 등 웹 서버(WEB) 또는 웹 컨테이너(WAS)가 필요함.
  - 스프링으로 코딩한 웹앱을 war 파일로 빌드하면 그 안에 .class 파일들이랑, jsp, 이미지, css, 자바스크립트 파일 등이 압축된다.
     
- JAR ( Java Archive )
  - .jar 확장 파일은 Class 와 같은 Java 리소스와 속성 파일, 라이브러리 및 액세서리 파일이 포함되어 있다.
  - JAVA 어플리케이션이 동잘할 수 있도록 자바 프로젝트를 압축한 파일로 생각하면 된다.
  - JAR 파일은 원하는 구조로 구성이 가능하며, JDK 에 포함하고 있는 JRE 만 가지고도 실행이 가능하다.


---

- 웹 서버 - WEB Server-> 정적을 주로..대표 웹 서버: 아파치, NginX, IIS
  - 특정 폴더, 디렉토리에 파일들을 넣어두면 외부에서 접근 가능하도록 개방해서, 서버에 지정된 웹 사이트 주소로 접속하면 이것들을 받아갈 수 있도록 하는것.


- 톰캣 - WAS -> 동적을 주로..
  - 자바랑 JSP 로 만든 웹 또는 API 어플리케이션을 실행할때 이 톰캣 같은 WAS 가 사용된다.
  - 스프링으로 코딩한 웹앱을 war 파일로 빌드하면 그 안에 .class 파일들이랑, jsp, 이미지, css, 자바스크립트 파일 등이 압축된다.
  - 톰캣을 다운받보면 여러 폴더들과 파일들이 들어있는 하나의 폴더로 되어있다.
  - 그 중 특정 폴더에 war 파일을 넣고 명령어를 실행하면, 스프링 서비스가 톰캣을 사용해서 돌게 된다.
  - 

- 아파치, NginX
  - reverse proxy 
    - 클라이언트에게서 서버의 정보를 감추는것 
  - 로브밸런싱
    - 클라이언트 분산 처리
  - 아파치
    - 다중 프로세스
    - MPM 멀티프로세스 모듈 방식
      - 클라이언트가 올 때마다 프로세스를 새로 생성하는 방식이 있고, 
      - 한 프로세스 안에서 스레드를 생성하는 방식이 있다.
  - NginX
    - 이벤트로 일을 처리
    - 한줄로 클라를 세워서 일을 처리한다.

---
- 용어 정리
  - Web Application: 아파치, NginX, IIS
    - 웹에서 실행되는 응용 프로그램
  - Web Application Server: 톰캣, WebSphere, JEUS
    - 웹 애플리케이션과 서버 환경을 만들어 동작시키는 기능을 제공하는 소프트웨어 프레임워크
    - 웹 애플리케이션을 실행시켜 필요한 기능을 수행하고 그 결과를 웹서버에게 전달
