- ip 주소
  - ARP(Address Resolution Protocol): ip 주소로부터 MAC 주소를 구하는 ip 와 MAC 주소의 다리 역할을 하는 프로토콜
    - 컴퓨터와 컴퓨터 간의 통신은 ip 주소 기반으로 통신하다고 알고있다.
    - 좀 더 정확히 얘기하자면 ip 주소에서 ARP 를 통해 MAC 주소를 찾아 MAC 주소를 기반으로 통신한다.
    - ARP 를 통해 가상 주소인 ip 주소를 실제 주소인 MAC 주소로 변환한다
  - RARP(Reverse Address Resolution Protocol)
    - ARP 의 반대로 RARP 를 통해 실제 주소인 MAC 주소를 가상 주소인 ip 주소로 변환한다.
    
  - ARP: 논리적 주소 => ARP => 물리적 주소
  - RARP: 물리적 주소 => RARP => 논리적 주소
  - 1.MAC 주소를 찾는 과정은 브로드캐스트를 보내서 IP 주소인 해당하는 MAC 주소를 찾는다.
  - 2.해당 주소에 맞는 장치가 ARP reply 유니캐스트 를 통해 MAC 주소를 반환하는 과정을 거쳐 ip 주소에 맞는 MAC 주소를 찾게 됨.
  - *브로트캐스트: 송싱 호스트가 전송한 데이터가 네트워크에 연결된 모든 호스트에 전송되는 방식
  - *유니캐스트: 고유 주소로 식별된 하나의 네트워크 목적지에 1:1로 데이터를 전송하는 방식
  
- 홉바이홉(hop by hop) 통신
  - 홉(hop) 영어 뜻 자체는 건너뛰는 모습을 의미. 이와같이 패킷이 여러개의 라우터를 건나가는 모습을 비유적으로 표현.
  - 각각의 라우터에 있는 라우팅 테이블의 IP 기반으로 패킷을 전달하고 다시 전달 함.
  - 즉 라우팅 테이블의 ip 를 통해 시작 주소부터 다음 ip 로 이동하는 라우팅 과정을 거쳐 최종 목적지까지 도달 하는 통신을 뜻함
  - *라우팅 테이블
    - 라우터에 들어가 있는 목적기 정보들과 목적지로 가는 방법이 들어 있는 리스트를 뜻함.
  - 
- ip 주소 체계
  - IPv4 & IPv6
    - IPv4
      - 32비트 주소체계 8비트 단위로 점으로 나뉜다.ex) 172.58.49.44
        - 각 8비트 단위를 옥텟 이라고 한다.4개의 옥탯으로 구성되어 있음. 
    - IPv6
      - 128비트 주소체계 16비트 단위로 콜론으로 나뉜다.ex) 2001:db8::ff00:42:8329
        - 앞의 연속된 0 은 생략가능
      - 앞64비트는 네트워크, 뒤 64비트는 인터페이스 주소를 나타냄
      - IPSec 이 내장되어 있음
        - 데이터 패킷을 암호화 하는 보안 네트워크 프로토콜
        - https://aws.amazon.com/ko/what-is/ipsec/
        - IPv4 보다 헤더 부분이 단순해 짐
    - 차이점
      - IPv4 는 체크섬이 있찌만 IPv6 는 체크섬이 없다.
        - 헤더 체크섬(Header Checksum)은 네트워크를 통해 패킷이 전송될 때 발생한 오류를 검출하기 위해 사용하는 영역이다. 데이터 전체가 아닌 헤드의 오류만 검출하며, 오류가 검출되면 복구하지 않고 폐기한다. 헤더를 2바이트씩 모두 잘라 더하고, 발생한 올림 영역까지 더한 후 1의 보수 연산을 수행해 계산한다.
        - IPv6 는 CRC(순환중복검사)를 제외한다.
          - TCP, UDP 전송 프로토콜에서 이미 체크섬이 있기 때문에 이를 제거한다.
          - *참고: UDP를 사용할 때 체크섬 필드는 선택사항 이지만 IPv6 + UDP 사용시 반드시 체크섬 필드 필요
        - IPV4 헤더는 가변길이 IPV6는 고정길이(40바이트) 이므로, IPV6에서는 헤더길이 정보 삭제됨.
      - *CRC(Cyclic Redundancy Check)
        - 네트워크 등을 통하여 데이터를 전송할 때 전송된 데이터에 오류가 있는지를 확인하기 위한 체크값을 결정하는 방식
      - *TTL 명칭이 HOP limit 으로 대체됨
        - 무한순환하지 않도록 하는 변수. 패킷이 네트워크에서 라우터를 거칠 떄마다 TTL 값이 1씩 감소. 0아 되면 폐기.
      - 결론
        - 많은 주소의 커버리지를 가질 수 있으며, 불필요한 헤더가 삭제되어서 더 빠르다.IPSec 네트워크 보안제품이 포함되었기 때문에 보안적인 측면에서도 좋다.
        - 실제 더 빠른줄 알았으나, 추천 블로그에 가면, 꼭 그렇치만도 않은듯 하다...
      

- 추천: https://nordvpn.com/ko/blog/ipv4-ipv6-bigyo/


- 클래스풀 (Classful IP Addressing)
  - IP 주소는 네트워크 주소와 호스트 주소로 나뉜다.
    - IP 주소
      - 서로 통신하기 위한 네트워크 주소 
    - 네트워크 주소
      - Host 들을 관리하기 위한 네트워크 범위를 지정하여 관리하기 위해 만듦
      - 같은 네트워크는 같은 네트워크에 있다는걸 의미, 자유롭게 통신 가능
    - 호스트 주소
      - 호스트를 관리하기위한 것
      - 네트워크 안에 고유 번호 같은 것
  - IPv4는 A, B, C, D, E 총 5개의 클래스로 네트워크 주소체계를 구분 지을 수 있음
    - 크기에 따라 구분되어짐
    - D, E 는 잘 사용되지 않음.(D는 멀티캐스트 통신, E는 예비용)
    - 옥텟의 크기에 따라 A, B, C 구분가능
      - *옥텟: IPV4 주소체계 (32비트) 를 8비트씩 .(점)을 통해 나뉘어지는데 각 8비트 한개당 옥텟임
      - 0, 10, 110 처럼 첫 옥텟의 0자리를 보면 될듯.
        - 구분하는 기준 옥텟을(1~3) 서브넷마스크라고도 함
    - 앞자리 1바이트 1개 클래스 A
      - 01111111.11111111.11111111.11111111 (127.255.255.255)
      - 3개의 옥텟을 호스트아이디로 할당가능 약 1600만개
    - 앞자리 1바이트 2개 클래스 B
      - 10111111.11111111.11111111.11111111 (191.255.255.255)
      - 2개의 옥텟을 호스트아이디로 할당가능약 6만5천개
    - 앞자리 1바이트 3개 클래스 C
      - 11011111.11111111.11111111.11111111 (223.255.255.255)
      - 1개의 옥텟을 호스트아이디로 할당가능약 254개
    - 할당가능한 갯수는 총 갯수에서 -2 를 해야함
      - IP 주소공간은 0~255 사이의 숫자로 구성되어 있음.
      - 0 과 255는 특정 아이디가 예약되어 있기때문에.
        - 0.0.0.0는 일반적으로 전체 네트워크를 의미하며, 네트워크 구성요소들이 이 주소를 사용하여 전체 네트워크에 대한 트래픽을 라우팅하는데 사용됨.
        - 255.255.255.255는 브로드캐스트 주소로, 네트워크 내 모든 호스트들에게 패킷을 전송하는데 사용됨.
    -*기타: 127.0.0.1 은 루프백 주소라 하며, localhost 와 동일하다.현재 컴퓨터에 있는 프로세스 트래픽을 전달한다.

  - 클래스풀 문제점:
    - 크기로 할당되어있다보니 어중간한 크기의 네트워크 할당 갯수를 맞추려면 여러 네트워크를 구성해야하거나, 필요치 보다 큰 네트워크 구성을 가져가서 낭비하는 ip들이 많아지게 됨.





